<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; &lt;fabarea/&gt; &mdash; To Get You Started</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/en/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/en/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/en/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/en/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/en/atom.xml" title="&lt;fabarea/&gt; activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/en/">&lt;fabarea/&gt;</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/en/blog">Posts Archive</a></li>
                                <li><a href="/en/blog/tags">Tags</a></li>
                                <li><a href="/en/about">About</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2><a href="/en/blog/2015/03/17/format-date-in-php/">Date format in PHP</a></h2>
        </header>
        <div>
            <p>Formatting dates in PHP is one of those things that is more twisted / complicated than it looks. The case is simple, we want to display a date, taking into account the linguistic context. Let us first look the <code>\DateTime ()</code></p>

<pre><code>$date = new \DateTime();
print $date-&gt;format("d F Y"); // 20 Mar.2015
</code></pre>

<p>Mmm ... It works but unfortunately for us, the return of <code>format</code> method is in English only.</p>

<p>To translate a date, use the <code>strftime</code> function which will used the Locales of the system under the hood. However, the formatting syntax is different since it has percent "%" as symbol and different letters.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
print strftime("%A %B %G"); // Vendredi mars 2015
</code></pre>

<p>By combining the object approach and the <code>strftime</code> function, this provides a more elegant solution.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
$date = new \DateTime();
print strftime("%A %B %G", $date-&gt;getTimestamp());
// Vendredi mars 2015
</code></pre>

<p>Unfortunately, this is not final solutio because <code>strftime</code> has limitations and does not work properly with a time prior to 1970.</p>

<p>Finally, the safest approach is to use a PHP extension "<a href="http://php.net/intl">Intl</a>" which is specialized in this task. A quick example:</p>

<pre><code>$date = new \DateTime();

$formatter = new IntlDateFormatter('fr_FR', IntlDateFormatter::SHORT, IntlDateFormatter::SHORT);
$formatter-&gt;setPattern('E d.M.Y');

print $formatter-&gt;format($date); // ven. 20.3.2015
</code></pre>

<p>QED!</p>

<p>This article is <a href="/fr/blog/2015/03/17/format-date-in-php/">available</a> in French also.</p>

        </div>
                    <p class="tags">
            Tags:
                        <a href="/en/blog/tags/php">php</a>,                         <a href="/en/blog/tags/date">date</a>                        </p>
            </article>
    <article>
        <header>
            <h2><a href="/en/blog/2015/02/20/automatic-ter-release/">Automatic TER release from Github</a></h2>
        </header>
        <div>
            <p>As the maintainer of <a href="/en/blog/2015/02/10/github-migration/">several extensions</a> for TYPO3 CMS, I have always found the release process to the <a href="http://typo3.org/extensions/repository/">TER</a> a little bit tedious. In fact, the operation is more complicated than it seems. We must be very carful about every detail: Git tags, commit message, update the correct version number, etc... To help in this task, I have a checklist that I follow step by step. But still! And if all goes well, the procedure takes arourd 10 to 15 minutes per extension.</p>

<p>I had on the radar several attempts to automate the upload of the TER via Webhooks available in Github. There was, among others, the approach of <a href="http://blog.kay-strobach.de/">Kay Strobach</a> with this <a href="https://github.com/kaystrobach/TYPO3TerHook/">proof of concept</a>.</p>

<p>The underlying idea was to trigger the upload via the creation of a Git tag. Having discussed the matter with <a href="https://plus.google.com/+AdrienCrivelli/posts">my colleague Adrien</a>, we followed the approach explained in detail in <a href="https://github.com/Ecodev/fluidtypo3-gizzle.">this article</a> written by <a href="https://twitter.com/namelesscoder">Claus Due</a>. The verbosity of the article can let thing about something complexd to set up. It is not so! The implementation can be summarized in a few steps.</p>

<h3>Preparatory tasks</h3>

<ul>
<li>Create a subdomain, eg http://release.example.com</li>
<li>Clone extension <a href="https://github.com/Ecodev/fluidtypo3-gizzle">https://github.com/Ecodev/fluidtypo3-gizzle</a>, the "web" folder to be the root of the document root.</li>
<li>Add a webhook for the project on GitHub

<ul>
<li>URL: http://release.example.com/?settings=settings/ExtensionRelease.yml</li>
<li>Secret: 12356</li>
</ul></li>
<li>Transfer the key extension to a member "release" on <a href="typo3.org">typo3.org</a>. This step is optional but recommended.</li>
</ul>

<h3>Release task</h3>

<ul>
<li>Update the version number in the file <code>ext_emconf.php</code> and <code>composer.json</code>.</li>
<li>Create a tag and push this tag with the command <code>git push --tags</code>, the extension is uploaded to TER with a generic message that points to the log on Github. Very convenient!</li>
</ul>

<h3>A few screenshots</h3>

<p><img src="/images/2015-02-20/2015-02-20_2202.png" alt="" /></p>

<p>The setup of the Webhook</p>

<hr />

<p><img src="/images/2015-02-20/2015-02-20_2203.png" alt="" /></p>

<p>Analysis of paylod to verify what has been sent to Webhook.</p>

<hr />

<p><img src="/images/2015-02-20/2015-02-20_2204.png" alt="" /></p>

<p>The return of the Webhook actually corresponding to the message sent by the TER.</p>

<p>This article is <a href="/fr/blog/2015/02/20/automatic-ter-release">available</a> in French also.</p>

        </div>
                    <p class="tags">
            Tags:
                        <a href="/en/blog/tags/ter">ter</a>,                         <a href="/en/blog/tags/github">github</a>                        </p>
            </article>
    <article>
        <header>
            <h2><a href="/en/blog/2015/02/10/github-migration/">Moving my extensions to Github</a></h2>
        </header>
        <div>
            <p>The <a href="https://forge.typo3.org/">TYPO3 Forge</a> is an interesting place that groups together a set of extensions and web resources. Unfortunately, the platform has negotiated the transition to Git with delay and many projects have moved to Github , Bitbucket and others. Added to this, the difficulty of <a href="https://code.google.com/p/gerrit/">Gerrit</a> which is a tool pretty tricky to get started with.</p>

<p>To facilitate contributions on my projects, I decided to move my extensions to Github for pragmatic reasons.</p>

<ul>
<li><a href="https://github.com/fabarea/context_hints">context_hints</a></li>
<li><a href="https://github.com/fabarea/media">media</a></li>
<li><a href="https://github.com/fabarea/vidi">vidi</a></li>
<li><a href="https://github.com/fabarea/vidi_starter">vidi_starter</a></li>
<li><a href="https://github.com/fabarea/vidi_frontend">vidi_frontend</a></li>
<li><a href="https://github.com/fabarea/quick_form">quick_form</a></li>
<li><a href="https://github.com/fabarea/messenger">messenger</a></li>
<li><a href="https://github.com/fabarea/rss_display">rss_display</a></li>
<li><a href="https://github.com/fabarea/metadata">metadata</a></li>
<li><a href="https://github.com/fabarea/media_upload">media_upload</a></li>
</ul>

<p>This article <a href="/fr/blog/2015/02/10/github-migration">is available</a> in French as well.</p>

        </div>
                    <p class="tags">
            Tags:
                        <a href="/en/blog/tags/github">github</a>                        </p>
            </article>
    <nav>
        <br />
        <a href="/en/page/2/">Older Posts</a><br />
    </nav>
                </div>
                <div class="span4 sidebar">
                    <!--<div class="well">-->
                        <!--<h4>&lt;fabarea/&gt; <small>To Get You Started</small></h4>-->
                    <!--</div>-->
                    <!--<div class="well sidebar-nav">-->
                        <!--<h4>Links</h4>-->
                        <!--<ul class="nav">-->
                            <!--<li><a href="http://sculpin.io">sculpin.io</a></li>-->
                            <!--<li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>-->
                        <!--</ul>-->
                    <!--</div>-->
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2015 &lt;fabarea/&gt;
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/en/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/en/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/en/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
