<!DOCTYPE html>
<html>
    <head>
        <title>Formatter une date en PHP &mdash; &lt;fabarea/&gt; &mdash; To Get You Started</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/fr/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/fr/components/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
        <link href="/fr/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="stylesheet" href="/fr/components/highlightjs/styles/github.css" />
        <link rel="alternate" type="application/atom+xml" href="/fr/atom.xml" title="&lt;fabarea/&gt; activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
    </head>
    <body>
        <header>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/fr/">&lt;fabarea/&gt;</a>
                        <div class="nav-collapse collapse">
                            <ul class="nav">
                                <li><a href="/fr/blog">Archives</a></li>
                                <li><a href="/fr/blog/tags">Tags</a></li>
                                <li><a href="/fr/about">A propos</a></li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </header>
        <div class="mainContent container">
            <div class="row-fluid">
                <div class="span8">
                        <article>
        <header>
            <h2>Formatter une date en PHP <small>post</small></h2>
        </header>
        <div>
            <p>Le formatage des dates en PHP fait partie de ces choses qui s'avère plus tordu / compliqué que prévu. Le cas est simple, il s'agit d'afficher une date en tenant compte du contexte linguistique. Regardons tout d'abord l'objet <code>\DateTime()</code></p>

<pre><code>$date = new \DateTime();
print $date-&gt;format("d F Y"); // 20 Mar.2015
</code></pre>

<p>Mmm... Cela marche mais malheureusement pour nous, le retour de la méthode <code>format</code> est en anglais uniquement.</p>

<p>Pour traduire une date, il faut utiliser la fonction <code>strftime</code> qui utilse les locales  du système. A note que la syntaxe du formatage est différente qui se présente avec des pourcents "%" et des autres symboles.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
print strftime("%A %B %G"); // Vendredi mars 2015
</code></pre>

<p>En combinant l'approche objet et la fonction <code>strftime</code>, cela offre une solution plus élégante.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
$date = new \DateTime();
print strftime("%A %B %G", $date-&gt;getTimestamp());
// Vendredi mars 2015
</code></pre>

<p>Hélas cette solutio n'est pas finale, car la fonction <code>strftime</code> a des limitations et ne fonctionne pas correctement avec un temps antérieur à 1970.</p>

<p>Finalement l'approche la plus sûre est l'utilisation d'une extension PHP "<a href="http://php.net/intl">Intl</a>" qui est spécialisée dans cette tâche. Un rapide exemple:</p>

<pre><code>$date = new \DateTime();

$formatter = new IntlDateFormatter('fr_FR', IntlDateFormatter::SHORT, IntlDateFormatter::SHORT);
$formatter-&gt;setPattern('E d.M.Y');

print $formatter-&gt;format($date); // ven. 20.3.2015
</code></pre>

<p>CQFD!</p>

<p>Cet article <a href="/en/blog/2015/03/17/format-date-in-php/">est disponible</a> en anglais également.</p>

        </div>
                            <p class="tags">
            Tags:
                        <a href="/fr/blog/tags/php">php</a>,                         <a href="/fr/blog/tags/date">date</a>                        </p>
        
                    <nav class="article">
                <ul>
                                            <li>Next: <a class="next" href="/fr/blog/2015/05/07/first-steps-with-es6-and-backbone/" title="Premier pas avec ES6 et Backbone"><span class="title">Premier pas avec ES6 et Backbone</span></a></li>
                                                                <li>Previous: <a class="previous" href="/fr/blog/2015/02/20/automatic-ter-release/" title="Publication automatique sur le TER depuis Github"><span class="title">Publication automatique sur le TER depuis Github</span></a></li>
                                    </ul>
            </nav>
            </article>

<!-- START: Livefyre Embed -->
<div id="livefyre-comments"></div>
<script type="text/javascript" src="http://zor.livefyre.com/wjs/v3.0/javascripts/livefyre.js"></script>
<script type="text/javascript">
    (function () {
        var articleId = fyre.conv.load.makeArticleId(null);
        fyre.conv.load({}, [{
            el: 'livefyre-comments',
            network: "livefyre.com",
            siteId: "369598",
            articleId: articleId,
            signed: false,
            collectionMeta: {
                articleId: articleId,
                url: fyre.conv.load.makeCollectionUrl(),
            }
        }], function() {});
    }());
</script>
<!-- END: Livefyre Embed -->
                </div>
                <div class="span4 sidebar">
                    <!--<div class="well">-->
                        <!--<h4>&lt;fabarea/&gt; <small>To Get You Started</small></h4>-->
                    <!--</div>-->
                    <!--<div class="well sidebar-nav">-->
                        <!--<h4>Links</h4>-->
                        <!--<ul class="nav">-->
                            <!--<li><a href="http://sculpin.io">sculpin.io</a></li>-->
                            <!--<li><a href="http://twitter.com/getsculpin">@getsculpin</a></li>-->
                        <!--</ul>-->
                    <!--</div>-->
                </div>
            </div>
        </div>
        <footer class="container">
            &copy; 2015 &lt;fabarea/&gt;
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/fr/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/fr/components/bootstrap/js/bootstrap.min.js"></script>
                
                <script src="/fr/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
