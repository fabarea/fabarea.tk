<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[&lt;fabarea/&gt;]]></title>
    <link href="/fr/atom.xml" rel="self"/>
    <link href="/fr/"/>
    <updated>2015-05-07T12:55:48+02:00</updated>
    <id>/fr/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[Premier pas avec ES6 et Backbone]]></title>
            <link href="/fr/blog/2015/05/07/first-steps-with-es6-and-backbone/"/>
            <updated>2015-05-07T00:00:00+02:00</updated>
            <id>/fr/blog/2015/05/07/first-steps-with-es6-and-backbone/</id>
            <content type="html"><![CDATA[<p><strong>TL;TR retour d'expérience sur un mini-application basée sur ES6 et Backbone en terre promise!</strong></p>

<p>Un petit retour sur un développement que j'ai fait dernièrement en JavaScript et dont je suis <strong>assez</strong> satisfait au point que j'aimerais en parler.</p>

<p>La demande du client allait dans le sens d'une mini applications qui devait se greffer sur un site existant et qui présentait un questionnaire, rempli interactivement question après question par l'utilisateur.</p>

<p>Dans un premier temps, je me suis embarquée dans <a href="https://github.com/lukehoban/es6features">ES6</a>, le successeur de ES5 qui est le JavaScript tel que nous connaissons / écrivons. Cela permet de mieux organiser son code avec des classes, des templates, des modules, etc.. Bref tout ce que nous aimons et qui professionnalise l'application.</p>

<p>Comme tous les navigateurs ne supportent pas ES6, le code est passé à la moulinette via un <code>transpiler</code> et puis <strong>servit en version ES5 au navigateur</strong> qui le rend ainsi parfaitement compatible. À mesure que les navigateurs progresserons dans le support de ES6, la couche de compatibilité se verra réduite jusqu'à disparaître. Un des <code>transpiler</code> phare du moment est <a href="http://babeljs.io/">Babel</a> qui était anciennement connu sous le nom de <code>6to5</code>. Pour faire de la transpilation à la volée, j'utilise <a href="http://gruntjs.com/">Grunt</a> que je maîtrise et qui fonctionne bien pour mes besoins. Je me suis inspiré de <a href="https://github.com/Couto/babel-runners-example">ce projet</a> qui démontre ce processus avec une variété d'autres outils, <a href="http://gulpjs.com/">Gulp</a> par exemple.</p>

<p>Parallèlement, je voulais appuyer ma min-application sur un système d'événement JavaScript. Lorsque l'utilisateur clique sur un bouton par exemple, un événement est émis. Les bons écouteurs se chargent de réagir et déclenche des actions. Cette approche à l'avantage de découpler l'application. En fouillant un peu, je suis tombé sur <a href="https://github.com/addyosmani/todomvc-backbone-es6">ce projet</a> qui a été une grande <strong>source d'inspiration</strong> et qui montrent l'écriture du fameux Todo en ES6 et Backbone. Backbone est une librairie JS qui fournit une Vue-Modèle couplé à un système de dispatching d'événement. Ce que je cherchais... Cela permet d'écrire du code du plus haut niveau que, pour comparer, avec jQuery où on raisonne en terme de DOM avec les effets de bord qui vont avec. Pour un bref aperçu voici la <a href="https://github.com/addyosmani/todomvc-backbone-es6/blob/gh-pages/js/todo-app.js">version commentée</a>.</p>

<p>En résumé, dans les plus:</p>

<ul>
<li><strong>légerté</strong>: le code fait moins de 80K tout compris, mon code + les librairies, bas de gros bateaux à charger pour le navigateur (mobile).</li>
<li><strong>pluggable</strong>: le code s'intègre comme une mini-application sur un site existant</li>
<li><strong>maintenable</strong>: ES6 réduit drastiquement le code "boilerplate".</li>
</ul>

<p>Dans les moins:</p>

<ul>
<li><strong>transpiler</strong>: même si rapide, cela ajoute une couche et tout n'est pas "transilable" mais si une grande majorité est couvert.</li>
</ul>

<p>Je guette aussi le projet <a href="http://aurelia.io/">Aurelia</a>. L'approche va plus loin et demande d'entrer dans un framework, donc plus "radical" bien qui très proche du standard ES6 et ES7 dans sa philosophie.</p>

<p>Ma version du code, très humblement:<br/>
<a href="https://github.com/visol/ext-easyvote_smartvote/tree/master/Resources/Public/JavaScript/App">https://github.com/visol/ext-easyvote_smartvote/tree/master/Resources/Public/JavaScript/App</a></p>

<p>This article is <a href="/en/blog/2015/05/07/first-steps-with-es6-and-backbone/">available</a> in English also.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Formatter une date en PHP]]></title>
            <link href="/fr/blog/2015/03/17/format-date-in-php/"/>
            <updated>2015-03-17T00:00:00+01:00</updated>
            <id>/fr/blog/2015/03/17/format-date-in-php/</id>
            <content type="html"><![CDATA[<p>Le formatage des dates en PHP fait partie de ces choses qui s'avère plus tordu / compliqué que prévu. Le cas est simple, il s'agit d'afficher une date en tenant compte du contexte linguistique. Regardons tout d'abord l'objet <code>\DateTime()</code></p>

<pre><code>$date = new \DateTime();
print $date-&gt;format("d F Y"); // 20 Mar.2015
</code></pre>

<p>Mmm... Cela marche mais malheureusement pour nous, le retour de la méthode <code>format</code> est en anglais uniquement.</p>

<p>Pour traduire une date, il faut utiliser la fonction <code>strftime</code> qui utilse les locales  du système. A note que la syntaxe du formatage est différente qui se présente avec des pourcents "%" et des autres symboles.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
print strftime("%A %B %G"); // Vendredi mars 2015
</code></pre>

<p>En combinant l'approche objet et la fonction <code>strftime</code>, cela offre une solution plus élégante.</p>

<pre><code>setlocale(LC_TIME, "fr_FR");
$date = new \DateTime();
print strftime("%A %B %G", $date-&gt;getTimestamp());
// Vendredi mars 2015
</code></pre>

<p>Hélas cette solutio n'est pas finale, car la fonction <code>strftime</code> a des limitations et ne fonctionne pas correctement avec un temps antérieur à 1970.</p>

<p>Finalement l'approche la plus sûre est l'utilisation d'une extension PHP "<a href="http://php.net/intl">Intl</a>" qui est spécialisée dans cette tâche. Un rapide exemple:</p>

<pre><code>$date = new \DateTime();

$formatter = new IntlDateFormatter('fr_FR', IntlDateFormatter::SHORT, IntlDateFormatter::SHORT);
$formatter-&gt;setPattern('E d.M.Y');

print $formatter-&gt;format($date); // ven. 20.3.2015
</code></pre>

<p>CQFD!</p>

<p>Cet article <a href="/en/blog/2015/03/17/format-date-in-php/">est disponible</a> en anglais également.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Publication automatique sur le TER depuis Github]]></title>
            <link href="/fr/blog/2015/02/20/automatic-ter-release/"/>
            <updated>2015-02-20T00:00:00+01:00</updated>
            <id>/fr/blog/2015/02/20/automatic-ter-release/</id>
            <content type="html"><![CDATA[<p>Etant le mainteneur <a href="/fr/blog/2015/02/10/github-migration/">de plusieurs extensions</a> pour TYPO3 CMS, j'ai toujours trouvé la phase de "release" sur le <a href="http://typo3.org/extensions/repository/">TER</a> un peu fastidieuse. En fait, L'opération est plus compliquée qu'il n'y paraît. Il ne faut ménager aucun détail sous peine de "manquer la coche", entre les tags Git, les messages de commit, le bon numéro de version. Pour ne pas se fourvoyer, j'ai une check-list que je suis étape par étape. Si tout se passe bien, la procédure prend entre 10 et 15 minutes par extension.</p>

<p>J'avais déjà dans le collimateur plusieurs tentatives qui visaient à automatiser l'upload sur le TER via des Webhooks que propose Github. Il y avait entre autre l'approche de <a href="http://blog.kay-strobach.de/">Kay Strobach</a> avec cette <a href="https://github.com/kaystrobach/TYPO3TerHook/">ébauche</a> de code.</p>

<p>Pour mes besoins, l'idée sous-jacente était de déclencher l'upload via la création d'un tag Git. Ayant discuté la chose avec <a href="https://plus.google.com/+AdrienCrivelli/posts">mon collègue Adrien</a>, nous avons suivi l'approche qui est expliquée de manière approfondie dans <a href="https://github.com/Ecodev/fluidtypo3-gizzle.">un article</a> écrit par <a href="https://twitter.com/namelesscoder">Claus Due</a>. La verbosité de l'article peut laisser transparaître quelque chose de compliquer. Il n'en est rien! La mise en place se résume en quelques étapes.</p>

<h3>Tâches préparatoires</h3>

<ul>
<li>Créer un sous-domaine, e.g. http://release.example.com</li>
<li>Cloner l'extension <a href="https://github.com/Ecodev/fluidtypo3-gizzle">https://github.com/Ecodev/fluidtypo3-gizzle</a>, le dossier "web" devant être à la racine du Document Root.</li>
<li>Ajouter un webhook pour le projet sur GitHub

<ul>
<li>URL: http://release.example.com/?settings=settings/ExtensionRelease.yml</li>
<li>Secret: 12356</li>
</ul></li>
<li>Transférer la clé des extension à un member "release" sur <a href="typo3.org">typo3.org</a>. Cette étape est optionnelle mais conseillée.</li>
</ul>

<h3>Tâches de publication</h3>

<ul>
<li>Mettre à jour le numéro de version dans le fichier <code>ext_emconf.php</code> et <code>composer.json</code>.</li>
<li>Créer un tag et pousser ce tag avec la commande <code>git push --tags</code>, l'extension est uploadé sur TER avec un message générique qui pointe ver le log de Github. Très pratique!</li>
</ul>

<h3>Quelques copies d'écran</h3>

<p><img src="/images/2015-02-20/2015-02-20_2202.png" alt="" /></p>

<p>La mise en place du webhook</p>

<hr />

<p><img src="/images/2015-02-20/2015-02-20_2203.png" alt="" /></p>

<p>L'analyse du paylod permet de vérifier ce qui a été envoyé au Webhook.</p>

<hr />

<p><img src="/images/2015-02-20/2015-02-20_2204.png" alt="" /></p>

<p>Le retour du Webhook qui correspond au message envoyé par le TER.</p>

<p>Cet article <a href="/en/blog/2015/02/20/automatic-ter-release">est disponible</a> en anglais également.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Déménagement de mes extensions sur Github]]></title>
            <link href="/fr/blog/2015/02/10/github-migration/"/>
            <updated>2015-02-10T00:00:00+01:00</updated>
            <id>/fr/blog/2015/02/10/github-migration/</id>
            <content type="html"><![CDATA[<p>La <a href="https://forge.typo3.org/">Forge de TYPO3</a> est une place intéressante qui regroupe (regroupait?) dans un même endroit un ensemble d'extensions et de ressources. Malheureusement, La plate-forme a négocié avec retard le virage vers Git et bon nombre de projets ont migré vers Github, Bitbucket et consorts. A cela s'ajoute la difficulté de <a href="https://code.google.com/p/gerrit/">Gerrit</a> qui est l'outil de revue qui est assez touffu à prendre en main.</p>

<p>Afin de faciliter les contributions sur mes projets, j'ai décidé de déménager mes extensions sur Github pour des raisons pragmatiques.</p>

<ul>
<li><a href="https://github.com/fabarea/context_hints">context_hints</a></li>
<li><a href="https://github.com/fabarea/media">media</a></li>
<li><a href="https://github.com/fabarea/vidi">vidi</a></li>
<li><a href="https://github.com/fabarea/vidi_starter">vidi_starter</a></li>
<li><a href="https://github.com/fabarea/vidi_frontend">vidi_frontend</a></li>
<li><a href="https://github.com/fabarea/quick_form">quick_form</a></li>
<li><a href="https://github.com/fabarea/messenger">messenger</a></li>
<li><a href="https://github.com/fabarea/rss_display">rss_display</a></li>
<li><a href="https://github.com/fabarea/metadata">metadata</a></li>
<li><a href="https://github.com/fabarea/media_upload">media_upload</a></li>
</ul>

<p>Cet article <a href="/en/blog/2015/02/10/github-migration">est disponible</a> en anglais également.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Media extension - identifier les fichiers doublons!]]></title>
            <link href="/fr/blog/2015/01/03/media-tool/"/>
            <updated>2015-01-03T00:00:00+01:00</updated>
            <id>/fr/blog/2015/01/03/media-tool/</id>
            <content type="html"><![CDATA[<p>Je développe déjà depuis quelques temps une <a href="https://forge.typo3.org/projects/extension-media/">extension</a> pour la gestion des média pour <a href="http://demo.typo3.org/">TYPO3 CMS</a> avec comme point fort l'ergonomie et le traitement avancés des metadata.</p>

<p>Je viens d'ajouter un nouvel outil qui permet la détection de fichiers doublons. Cela permet par exemple d'identifier un même fichier qui aurait été uploadé par inadvertance plusieurs fois par un utilisateur et qui serait à double dans le storage. L'outils produit une liste qui affiche ces doublons, ensuite, il est possible de sélectionner les fichiers qui sont à supprimer.</p>

<p>Cet ajout vient compléter la liste des outils existants. Il y avait la possibilité déjà de repérer les fichiers manquants ou des enregistrements à double dans la base de donné.</p>

<h3>En images</h3>

<p>Ouverture du paneau des outils:</p>

<p><img src="/images/2015-01-03/2015-01-03_1025.png" alt="" /></p>

<p>Sélection de l'outil:</p>

<p><img src="/images/2015-01-03/2015-01-03_1030.png" alt="" /></p>

<p>Sélection des doublons:</p>

<p><img src="/images/2015-01-03/2015-01-03_1031.png" alt="" /></p>

<h3>Installation</h3>

<p>Pour tester cette fonctionnalité, il faut récupérer les sources depuis le <a href="https://git.typo3.org/TYPO3CMS/Extensions/media.git">dépôt Git</a>, en attendant sa publication sur le <a href="http://typo3.org/extensions/repository/">TER</a>, ainsi que mettre à jour de l'extension <a href="https://forge.typo3.org/projects/extension-vidi/">Vidi</a> qui est le moteur sous-jacent à Media.</p>

<pre><code># Clone du master de Vidi
cd typo3conf/ext
git clone git://git.typo3.org/TYPO3CMS/Extensions/vidi.git

# Clone du master de Media
cd typo3conf/ext
git clone git://git.typo3.org/TYPO3CMS/Extensions/media.git
</code></pre>

<h3>Sponsor</h3>

<p>Cette fonctionnalité a été sponsorisé par <a href="http://www.visol.ch/">Visol</a> que je remercie chaleureusement.</p>

<p>Cet article <a href="/fr/blog/2015/01/03/media-tool">est disponible</a> en anglais également.</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Fab Area!]]></title>
            <link href="/fr/blog/2014/10/02/fabarea/"/>
            <updated>2014-10-02T00:00:00+02:00</updated>
            <id>/fr/blog/2014/10/02/fabarea/</id>
            <content type="html"><![CDATA[<p>Prems!</p>

<p>De quoi va parler ce blog? Principalement de choses techniques liés à mes projets.</p>

<p>Je travaille dans mon quotidien avec des "produits" de l'écosystème <a href="http://typo3.org/">TYPO3</a> avec <a href="http://composer.typo3.org/">CMS</a> mais pas uniquement! Je maintiens quelques extensions que j'ai publiés pour cet environnement.</p>

<p>Ce blog est propulsé par <a href="https://sculpin.io/">Sculpin</a>, qui est un générateur de site statique. Je suis tombé sur Scuplin alors que j'ai évalué plusieurs solutions de générateur de site. L'idée et d'écrire le contenu dans un fichier MarkDown qui est ensuite converti en HTML.</p>

<p>Sculpin est écrit en PHP et repose sur les fondations de<a href="http://symfony.com/">Symfony</a>.</p>

<p>Ce qui est de produits est efficace, économique et bien adapté pour des sites de petites structures. Une fois les pages statiques générées, il n'y a plus de maintenance nécessaire. En bonus, il est possible d'héberger gratuitement ses pages sur différents plate-formes.</p>

<p>Pour un démarrage rapide, j'ai utilisé ce <a href="https://github.com/sculpin/sculpin-blog-skeleton.git">dépôt Git</a> qui fournit un squelette de blog.</p>
]]></content>
        </entry>
    </feed>